try{if(!Nabu)throw"Nabu Manager not loaded"}catch(e){throw"Nabu Manager not loaded"}Nabu.Event=function(e){this.params=e,this.bubble=!0},Nabu.Event.prototype={isBubble:function(){return this.bubble},setBubble:function(e){this.bubble=e},fireEvent:function(e,t,n,r){var i=void 0===r||r;if(this.params[e])var i=this.params[e]({source:t,params:n});return void 0===i?r:i},isEventTargeted:function(e){return void 0!==this.params[e]}},Nabu.EventPool=function(){this.events=new Array},Nabu.EventPool.prototype={addEventListener:function(e){-1===this.getEventListenerIndex(e)&&this.events.push(e)},fireEvent:function(e,t,n,r){for(var i=void 0===r||r,s=0;s<this.events.length&&(i=this.events[s].fireEvent(e,t,n,r),this.events[s].isBubble());s++);return void 0===i?r:i},isEventTargeted:function(e){for(var t=0;t<this.events.length;t++)if(this.events[t].isEventTargeted(e))return!0;return!1},getEventListenerIndex:function(e){for(var t=0;t<this.events.length;t++)if(this.events[t]===e)return t;return-1},removeEventListener:function(e){var t=this.getEventListenerIndex(e);t>-1&&this.events.splice(t,1)}},nabu.registerLibrary("Event");